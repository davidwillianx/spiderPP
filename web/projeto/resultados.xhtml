<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition
    template="/WEB-INF/templates/dashboard_projeto.xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui">

    <ui:define name="content-dashboard" >
            
        <div class="row  m-b-5">

            <div class="col-md-12">
                <div class="tiles blue added-margin">
                    <div class="tiles-body">

                        <div class="tiles-title"> <i class=" fa fa-2x fa-dashboard m-l-5"/> TOTAL DE ESTORIAS ESTIMADAS </div>
                        <div class="heading"> <span class="animate-number" data-value="#{estoriaController.showEstoriaPercentageRated(projeto.id)}" data-animation-duration="1200">#{estoriaController.showEstoriaPercentageRated(projeto.id)}</span>% </div>
                        <div class="progress transparent progress-small no-radius">
                            <div style="width: 0%;" class="progress-bar progress-bar-white animate-progress-bar" data-percentage="#{estoriaController.showEstoriaPercentageRated(projeto.id)}"></div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        <div class="row">

            <div class="col-md-12">
                <div class="grid simple">
                    <div class="grid-title">
                    </div>
                    <div class="grid-body no-border">
                        <div class="row">
                            
                            <div class="col-md-6">
                                <h4>Soma das estimativas por dia</h4>
                                <p> Aqui você pode obersar qual foi a quantidade de pontos atingida por dia de estimativa</p>
                                <div id="summedrate-days">

                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <h4>Quantidade de estorias por estimativa</h4>
                                <p>Para cada estimativa quantas estórias com essa valor esta possui</p>
                                <div id="rate-donut">

                                </div>
                            </div>
                            
                        </div>
                        

 
                    </div>
                </div>
            </div>    
            
            
        </div>
        
        <h:outputScript library="styles" name="assets/plugins/raphael/raphael-min.js"/>  
       <h:outputScript library="styles" name="assets/plugins/Chartjs/Chart.min.js"/>  
       <h:outputStylesheet library="styles" name="assets/plugins/jquery-morris-chart/css/morris.min.css"/>
       <h:outputScript library="styles" name="assets/plugins/jquery-morris-chart/js/morris.min.js"/>  
       <h:outputScript library="styles" name="assets/plugins/jquery-sparkline/jquery-sparkline.min.js"/> 
       
       <script type="text/javascript ">
         var summedRatesPerDays = #{estoriaController.showSummedRatePerDays(projeto.id)};
         var quantityForEachRate = #{estoriaController.showJsonQuantityForEachRate(projeto.id)};
         
         
       	Morris.Line({
	  element: 'summedrate-days',
          data: summedRatesPerDays,
	  xkey: 'day',
	  ykeys: ['sumdRate'],
	  labels: ['Soma das Estimativas'],
	  lineColors:['#0aa699','#d1dade'],
	});
        
        Morris.Donut({
          element: 'rate-donut',
          data: quantityForEachRate
        });
	
	

       </script>
       
    </ui:define>

</ui:composition>


